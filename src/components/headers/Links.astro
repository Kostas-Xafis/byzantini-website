---
import { isProduction } from "../../../lib/utils.server.ts";
import { SEO } from "astro-seo";
export interface Props {
	title: string;
	imageURL?: string;
}
const { title, imageURL } = Astro.props;
const hasBrandIcons = !Astro.url.pathname.includes("login");
const logoUrl = imageURL || "https://musicschool-metamorfosi.gr/logo.png";
const openGraphImg = !imageURL ? {
	url: logoUrl,
	alt: "Λογότυπο Σχολής Βυζαντινής & Παραδοσιακής Μουσικής",
	height: 549,
	width: 549,
	type: "image/png",
	secureUrl: logoUrl
} : {
	url: logoUrl
}
console.log({title, imageURL, logoUrl});
---

<>
	<meta name="viewport" content="width=device-width" />
	<meta name="generator" content={Astro.generator} />
	<meta name="theme-color" content="#7f1d1d" />
	<SEO
		charset="utf-8"
		title={title || "Σχολή Βυζαντινής & Παραδοσιακής Μουσικής"}
		description="Σχολή Βυζαντινής & Παραδοσιακής Μουσικής Ι.Ν. Μεταμορφώσεως Του Σωτήρος, Δήμου Μεταμορφώσεως"
		openGraph={{
			basic: {
				title: title || "Σχολή Βυζαντινής & Παραδοσιακής Μουσικής",
				url: Astro.url,
				image: logoUrl,
				type: "website"
			},
			image: openGraphImg,
			optional: {
				locale: "el_GR"
			}
		}}
		extend={{
			link: [
				{ rel: "icon", href: "/logo_small.png" },
				{ rel: "sitemap", href: "/sitemap-index.xml" },
				{ rel: "robots", href: "/robots.txt" }
			],
			meta: [
				{
					name: "facebook:image",
					content: logoUrl
				},
				{
					name: "messenger:image",
					content: logoUrl
				},
				{
					name: "viber:image",
					content: logoUrl
				}
			]
		}}
	/>
	<link rel="preload" href="/fonts/ANAKTORIA.OTF" as="font" crossorigin="" />
	<style is:inline>
		@font-face {
			font-family: "Anaktoria";
			src: url("/fonts/ANAKTORIA.OTF");
		}
	</style>
	<link href="/fa/css/fontawesome.min.css" rel="stylesheet" />
	<link href="/fa/css/solid.min.css" rel="stylesheet" />
	<link href="/fa/css/regular.min.css" rel="stylesheet" />
	{hasBrandIcons && <link href="/fa/css/brands.min.css" rel="stylesheet" />}
	<link rel="preconnect" href="https://fonts.googleapis.com" />
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
	<link href="https://fonts.googleapis.com/css2?family=Didact+Gothic" rel="stylesheet" />
	{
		isProduction() && (
			<script
				defer
				src="https://static.cloudflareinsights.com/beacon.min.js"
				data-cf-beacon='{"token": "ea19263015fb463885a76372d2368d05"}'
			/>
		)
	}
</>
